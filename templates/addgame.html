{% extends 'base.html' %}
{% include 'header.html' %}

{% block title %}Create Schedule{% endblock %}

{% block body %}
<div class="container">
  <h1 style="margin-top: 15px; margin-bottom: 20px;">Add a New Game</h1>
  <form method="POST">
    <table class="table">
      <!-- Event Date -->
      <tr>
        <td>Date</td>
        <td><input type="date" name="date" class="form-control" required /></td>
      </tr>

      <!-- Event Time -->
      <tr>
        <td>Time</td>
        <td>
          <div class="input-group">
            <!-- Allow time input in 12-hour format (HH:MM) -->
            <input type="text" name="time" id="time" class="form-control" placeholder="HH:MM" required />
            <!-- AM/PM Dropdown -->
            <select name="am_pm" id="am_pm" class="form-control" required>
              <option value="AM">AM</option>
              <option value="PM">PM</option>
            </select>
          </div>
        </td>
      </tr>

      <!-- Time Zone -->
      <tr>
        <td>Time Zone</td>
        <td><input type="text" name="timezone" class="form-control" placeholder="e.g. EST"required /></td>
      </tr>

      <!-- Home or Away -->
      <tr>
        <td>Home or Away?</td>
        <td>
          <select name="home_or_away" class="form-control" required>
            <option value="Home">Home</option>
            <option value="Away">Away</option>
          </select>
        </td>
      </tr>

      <!-- Team -->
      <tr>
        <td>Team</td>
        <td><input type="text" name="team" class="form-control" placeholder="e.g. Vancouver Canucks"required /></td>
      </tr>

      <!-- Location -->
      <tr>
        <td>Location</td>
        <td><input type="text" name="location" class="form-control" placeholder="e.g. Vancouver, BC, CAN" required /></td>
      </tr>

      <!-- Venue -->
      <tr>
        <td>Venue</td>
        <td><input type="text" name="venue" class="form-control" placeholder="e.g. Rogers Arena" required /></td>
      </tr>

      <!-- Submit Button -->
      <tr>
        <td colspan="2" style="border: none;">
          <input type="submit" name="submit" value="Submit" class="btn btn-warning">
        </td>
      </tr>
    </table>
  </form>
</div>

<script>
  // Combine time input and AM/PM dropdown before form submission
  const form = document.querySelector('form');
  form.addEventListener('submit', function(event) {
    const timeInput = document.getElementById('time');
    const amPmSelect = document.getElementById('am_pm');

    // Combine the time and AM/PM value into one string (e.g., "10:30 AM")
    const combinedTime = `${timeInput.value} ${amPmSelect.value}`;

    // Set the time input to the combined value
    timeInput.value = combinedTime;
  });
</script>

{% endblock %}
